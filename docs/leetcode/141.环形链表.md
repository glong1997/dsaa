#### [141. ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)

éš¾åº¦ç®€å•1143

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚

å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª `next` æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚**æ³¨æ„ï¼š`pos` ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’**ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚

å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œåˆ™è¿”å› `true` ã€‚ å¦åˆ™ï¼Œè¿”å› `false` ã€‚

 

**è¿›é˜¶ï¼š**

ä½ èƒ½ç”¨ *O(1)*ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

 

**ç¤ºä¾‹ 1ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist.png)

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png)

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png)

```
è¾“å…¥ï¼šhead = [1], pos = -1
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
```

 

**æç¤ºï¼š**

- é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ `[0, 104]`
- `-105 <= Node.val <= 105`
- `pos` ä¸º `-1` æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ª **æœ‰æ•ˆç´¢å¼•** ã€‚

é¢˜è§£ï¼š

> è¿™é“é¢˜ï¼Œé¢è¯•å¸¸è€ƒã€‚å¯ä»¥ä½¿ç”¨Setæˆ–è€…å¿«æ…¢åŒæŒ‡é’ˆï¼ˆé¾Ÿå…”èµ›è·‘ï¼Œä¹Œé¾Ÿä¸€æ­¥ï¼Œå…”å­ä¸¤æ­¥ï¼‰

HashSetã€‚æ—¶ç©ºéƒ½æ˜¯Oï¼ˆNï¼‰

```java
public class Solution {
    public boolean hasCycle(ListNode head) {
        Set<ListNode> set = new HashSet<>();
        while(head != null){
            if(set.contains(head)) return true;
            set.add(head);
            head = head.next;
        }
        return false;
    }
}

// ----------------  ä¸€æ ·çš„è§£æ³•  --------------------
public class Solution {
    public boolean hasCycle(ListNode head) {
        Set<ListNode> set = new HashSet<>();
        while(head != null){
            if(!set.add(head)) return true;
            head = head.next;
        }
        return false;
    }
}
```

å¿«æ…¢åŒæŒ‡é’ˆã€‚åœ¨ç‰›å®¢ä¸Šï¼Œè¦æ±‚çš„æ˜¯ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨HashSetã€‚è¿™ç§è§£æ³•å’Œé“¾è¡¨å…¬å…±ç»“ç‚¹å¾ˆåƒã€‚

```java
public class Solution {
    public boolean hasCycle(ListNode head) {
        if (head == null || head.next == null) {	// ç‰¹æ®Šæƒ…å†µ
            return false;
        }
        ListNode slow = head;
        ListNode fast = head.next;
        while (slow != fast) {
            if (fast == null || fast.next == null) { //å¦‚æœfastæŒ‡é’ˆç›´æ¥èµ°åˆ°å¤´ï¼Œè¯´æ˜ä¸æ˜¯ç¯å½¢é“¾è¡¨
                return false;
            }
            slow = slow.next;				// æ…¢æŒ‡é’ˆï¼ŒğŸ¢èµ°ä¸€æ­¥
            fast = fast.next.next;	// å¿«æŒ‡é’ˆï¼ŒğŸ°èµ°ä¸¤æ­¥
        }
        return true;
    }
}
```

