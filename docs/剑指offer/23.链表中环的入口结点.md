### [142.ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)/å‰‘æŒ‡offer 23.é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚**æ³¨æ„ï¼Œ`pos` ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚**

**è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

**è¿›é˜¶ï¼š**

- ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ `O(1)` ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ 

**ç¤ºä¾‹ 1ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist.png)

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png)

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png)

```
è¾“å…¥ï¼šhead = [1], pos = -1
è¾“å‡ºï¼šè¿”å› null
è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
```

**æç¤ºï¼š**

- é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ `[0, 104]` å†…
- `-105 <= Node.val <= 105`
- `pos` çš„å€¼ä¸º `-1` æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼•

> å¿«æ…¢æŒ‡é’ˆ
>
> ```
> èµ° a + n * b æ­¥ä¸€å®šæ˜¯åœ¨ç¯å…¥å£
> ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶æ…¢æŒ‡é’ˆå·²ç»èµ°äº† n * b æ­¥
> ```
>
> å…¶ä¸­aä¸ºé“¾è¡¨å¤´åˆ°ç¯çš„å…¥å£è·ç¦»

```java
public class Solution {
    public ListNode detectCycle(ListNode head) {
        ListNode fast = head, slow = head;	// é¾Ÿå…”æŒ‡é’ˆ
        while (true) {
            if (fast == null || fast.next == null) return null;	// ä¸æ˜¯ç¯å½¢é“¾è¡¨
            fast = fast.next.next;	// ğŸ°
            slow = slow.next;		// ğŸ¢
            if (fast == slow) break;	// ç›¸é‡
        }
        fast = head;	// ğŸ°å›åˆ°é“¾è¡¨å¤´ï¼Œé€Ÿåº¦å’ŒğŸ¢ä¸€æ ·ã€‚
        while (slow != fast) {
            slow = slow.next;
            fast = fast.next;
        }
        return fast;
    }
}
```

